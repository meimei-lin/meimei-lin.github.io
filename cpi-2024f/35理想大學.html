<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=1900">
  <title>35 理想大學</title>
  <style>
    html,
    body {
      margin: 0;
      overflow: hidden;
    }
  </style>
  <link rel="stylesheet" href="vendor/reveal/reset.css">
  <link rel="stylesheet" href="vendor/reveal/reveal.css">
  <link rel="stylesheet" href="vendor/reveal/theme/sky.css">

  <!-- Theme used for syntax highlighted code -->
  <link rel="stylesheet" href="vendor/reveal/plugin/highlight/zenburn.css"><!--edit-->
  <!-- Pollyfill script -->
  <script src="https://unpkg.com/core-js-bundle@3.6.1/minified.js"></script>
  <!-- Live2DCubismCore script -->
  <script src="./dist/live2dcubismcore.js"></script>
  <!-- Build script -->
  <script src="./dist/bundle.js"></script>
  <style>
    ul,
    ol {
        list-style: none;
        margin-left: 0;
    }

    .reveal {
        position: absolute;
        left: 0;
        top: 0;
        font-size: 26px;
    }

    #pageIndex {
        position: absolute;
        right: 24px;
        bottom: 24px;
        background: #000;
        color: #fff;
        font-size: 20px;
    }

    .controls {
        bottom: 24px !important;
    }
    .table, .th, .td {
      border: 1px solid black;
      border-collapse: collapse;
      padding: 0px; 
      width: 1100px;
    }
    
  </style>
</head>

<body>
  <div class="reveal">
    <div class="slides">
      <!--
         data-no: 老師網頁的cubism人物編號(從0開始，網頁上的編號-1)
         data-positionx: cubism人物水平位移範圍(建議-1 ~ 0.9)
         data-positiony: cubism人物垂直位移範圍(建議-0.9~0.4)
         data-scale: cubism人物縮放(建議1~2之間的小數值，最大極限是3)
         data-motionno: cubism人物指定動作編號(從0開始，請參閱model3.json檔案的ALL MOTION GROUP)
      -->

      <!--Q1-->
      <section>
        <h3 style="text-align: left;">35 理想大學</h3>
        <section 
        data-no="6"
        data-positionx="0.8" 
        data-positiony="0.03" 
        data-scale="1" 
        data-motionno="0"
        style="text-align: left"><br><br>
        <p>已知有多間學校，且每間學校都會有自己特殊的屬性，學生們希望可以透過輸入自己想要的屬性，來篩選自己想要的學校，請寫一個程式來幫助學生們解決這個問題。<br><br>
        每一大學可以擁有的 8 種屬性:<br>
        GF(Good Food) :代表附近有美食。<br>
        BC(Big Campus):代表有大校園。<br>
        NC(Next to City):代表鄰近有大城市。<br>
        CT(Convenient Transportation):代表交通方便。<br>
        NS(Next to Sea):代表靠海。<br>
        NM(Next to Mountain):代表依山。<br>
        HL(Has Lake):代表校園有湖。<br>
        NL(Near Landscape):代表附近有風景區。<br><br>
        <b>【特殊要求】<br>
            請使用 dictionary 儲存資料並完成此題目</b>
        </p>
        </section>

        <section 
        data-no="6"
        data-positionx="0.8" 
        data-positiony="0.03" 
        data-scale="1" 
        data-motionno="0"
        style="text-align: left"><br><br>
        <table class="table">
            <tr>
                <th class="th">輸入說明</th>
                <th class="th">輸出說明</th>
            </tr>
            <tr>
                <td class="td">1. 輸入整數N (3 <= N <= 5)，代表總共有N間學校。<br>
                2~N+1. 每行輸入學校名稱以及該學校擁有的屬性，學校名稱、每個屬性間以一個空白隔開。<br>
                N+2. 輸入整數M (1 <= M <= 4)，代表有幾組想要的屬性<br>
                N+3~N+M+3. 每一行有一組查詢。查詢條件為校園屬性組成,每個校園屬性為 2 個字元。用 + 號區格的條件代表"或" 的關係,沒有 + 
                區隔的條件代表 "且" 的關係。
                屬性間及 + 之間有 1 個空白間隔。例如: BC NS + CT HL 代表需找出【大校園且靠海】,或【交通方便且校園有湖】的 
                所有大學名稱。<br>
                其格式如下:XX YY + AA BB<br>
                意思為屬性條件為: XX 且 YY,或是 AA 且 BB。<br>
                N+M+4. 輸入整數b (0 <= b <= 1)，決定輸出的方式。               
                </td>
                <td class="td">根據每一組的查詢屬性條件，各自輸出符合的大學名稱。<br>
                    輸出格式：<br>
                    <b>當b=0時</b>,代表輸出能符合條件的大學。例如:條件 NS BC NC + CT HL,大學名稱及屬性為NTUT NC BC NS ,則 NTUT 符合條件。假如大學名稱及屬性為NTU CT，則NTU不符合條件，此外如果有多間學校符合，則依學校輸入順序輸出，中間以空白隔開。<br>
                    <b>當b=1時</b>,代表輸出部分符合且符合最多條件的大學(不需要整組屬性相同，即學生們要求的條件可以拆開來看)。例如:條件 NS BC NC + CT HL,大學名稱及屬性為 NTUT BC NS(符合兩種屬性)、 NTUST BC(符合一種屬性),則輸出NTUT。此外如果符合度最高的學校同時有2間以上，則依學校輸入順序輸出，中間以空白隔開。                    
                </td>   
            </tr>
        </table>

        </section>
    </section>

    <section>
        <h3>Input/Output</h3><br> 
        <section data-auto-animate
        data-no="6" 
        data-positionx="0.8" 
        data-positiony="0.03" 
        data-scale="1" 
        data-motionno="0"
        style="text-align: left"><br>
        <p style="font-size: 21px;">範例輸入說明 1：<br>第1行：3 -> 總共有3間學校。<br>
        第2行：NSYSU NC CT NS NM -> 學校名稱為NSYSU，擁有的屬性為NC、CT、NS、NM。<br>第3行：NTU BC NC CT NS -> 學校名稱為NTU，擁有的屬性為BC、NC、CT、NS。<br>
        第4行：NCCU BC NL HL -> 學校名稱為NCCU，擁有的屬性為BC、NL、HL。<br>第5行：2 -> 總共有2組查詢。<br>
        第6行：BC NS + CT HL -> 有大校園且靠海 或 交通方便且校園有湖。<br>第7行：BC + NS -> 有大校園 或 靠海。<br>
        第8行：0 -> 輸出以當b=0時候的方式輸出。</p>
        <table class="table">
            <tr>
                <th class="th" style="font-size: 21px;">Sample Input</th>
                <th class="th" style="font-size: 21px;">Outpue</th>
            </tr>
            <tr>
              <td class="td" style="font-size: 21px;">3<br>NSYSU NC CT NS NM<br>NTU BC NC CT NS<br>NCCU BC NL HL<br>
                2<br>
                BC NS + CT HL<br>
                BC + NS<br>
                0<br>
              </td>
              <td class="td" style="font-size: 21px;">NTU<br>
                NSYSU NTU NCCU<br>
              </td>
            </tr>
        </table>
        <p style="font-size: 21px;">範例輸出說明1：NTU (符合第一組查詢條件的BC NS，符合有大校園且靠海的屬性條件)<br>
            NSYSU NTU NCCU (NSYSU符合第二組查詢條件的NS(靠海)，NTU符合第二組查詢條件的BC(有大校園)，NCCU符合第二組查詢條件的
            BC(有大校園))
     
        </p>
        </section>

        <section data-auto-animate
          data-no="6" 
          data-positionx="0.8" 
          data-positiony="0.03" 
          data-scale="1" 
          data-motionno="0"
          style="text-align: left"><br>
          <table class="table">
            <tr>
                <th class="th">Sample Input</th>
                <th class="th">Outpue</th>
            </tr>
            <tr>
                <td class="td">5 <br>
                    NSYSU NC CT NS NM <br>
                    NTU BC NC CT NS<br>
                    NCCU BC NL HL <br>
                    Providence BC NC <br>
                    NTHU BC NS <br>
                    2 <br>
                    BC NS + CT HL <br>
                    NM + BC NL + BC NC <br>
                    0<br>
                </td>
                <td class="td">NTU NTHU<br>
                    NSYSU NTU NCCU Providence
                    <br>
                </td>
            </tr>
          </table>
        </section>

        <section data-auto-animate
          data-no="6" 
          data-positionx="0.8" 
          data-positiony="0.03" 
          data-scale="1" 
          data-motionno="0"
          style="text-align: left"><br>
          <table class="table">
            <tr>
                <th class="th">Sample Input</th>
                <th class="th">Outpue</th>
            </tr>
            <tr>
                <td class="td">3<br>
                NTHU GF HL<br>
                NCTU NM GF BC<br>
                NCKU CT GF NS<br>
                3<br>
                HL + BC NL + CT BC<br>
                NM HL + CT + GF NS<br>
                NM<br>
                0<br>
                </td>
                <td class="td">NTHU<br>
                    NCKU<br>
                    NCTU  
                </td>
            </tr>
          </table>
        </section>

        <section data-auto-animate
          data-no="6" 
          data-positionx="0.8" 
          data-positiony="0.03" 
          data-scale="1" 
          data-motionno="0"
          style="text-align: left"><br>
          <table class="table">
            <tr>
                <th class="th">Sample Input</th>
                <th class="th">Outpue</th>
            </tr>
            <tr>
                <td class="td">4<br>
                    NCU CT NM<br>
                    NUU BC GF NL NM CT<br>
                    NTOU GF NL NM<br>
                    NTNU HL NC <br>
                    2<br>
                    BC<br>
                    HL BC + NS GF + NL + NM<br>
                    1<br>
                </td>
                <td class="td">NUU<br> 
                    NUU<br>                  
                </td>
            </tr>
          </table>
        </section>

        <section data-auto-animate
          data-no="6" 
          data-positionx="0.8" 
          data-positiony="0.03" 
          data-scale="1" 
          data-motionno="0"
          style="text-align: left"><br>
          <table class="table">
            <tr>
                <th class="th">Sample Input</th>
                <th class="th">Outpue</th>
            </tr>
            <tr>
                <td class="td">3<br>
                    NTUE CT NM HL NC<br>
                    NHCUE NS<br>
                    NTCU NS NC<br>
                    3<br>
                    NS + BC HL<br>
                    CT<br>
                    BC GF NC NS NL<br>
                    1<br>
                </td>
                <td class="td">NTUE NHCUE NTCU<br> 
                    NTUE<br> 
                    NTCU<br>                  
                </td>
            </tr>
          </table>
        </section>
    </section>

      <section>
        <h3>Hints</h3>
        <section data-auto-animate
        data-no="17" 
        data-positionx="0.8" 
        data-positiony="0.03" 
        data-scale="1" 
        data-motionno="0"
        style="text-align: left;"><br>
        <pre style="font-size: 26px;"><code data-trim data-noescape class="language-python" data-line-numbers>
        def main():
            #輸入整數N，代表總共有N間學校
            schools = {}  #使用字典存學校資料
            conditions = [] #存要查詢的屬性

            for i in range(N): #迴圈跑N次
                #輸入N個學校名稱以及該學校擁有的屬性，學校名稱、每個屬性間以一個空白隔開
                #用空格分割字串，得到的list索引0的字串為學校名稱，索引1~結尾是該學校的屬性
                #將學校名稱作為key，屬性列表作為value存入字典

            #輸入整數M (1 <= M <= 4)，代表有幾組想要查詢的屬性

            for i in range(M): #迴圈跑M次
                #輸入M組查詢，並用' + '(空格加號空格)分割字串
                #新增到conditions中
                #例如輸入查詢屬性:BC NS + CT HL，換下一行，BC + NS
                #conditions的結構:[['BC NS','CT HL'],['BC','NS']]

            #輸入整數b (0 <= b <= 1)，決定輸出的方式

            if 輸出方式為0:
                for i in range(M): #迴圈跑M次
                    #處理能符合所有查詢屬性的大學，寫成函式
                    #印出結果，寫成函式

            elif 輸出方式為1:
                for i in range(M): #迴圈跑M次
                    #處理能部分符合且符合最多條件的大學，寫成函式
                    #印出結果
          </code></pre>
        </section>
    </section>

    <section>
        <h3 >解答</h3>
          <section data-auto-animate
            data-no="8"
            data-positionx="0.8" 
            data-positiony="0.03" 
            data-scale="1" 
            data-motionno="0">
            <font size=6>主程式</font>
            <pre style="font-size: 26px;"><code data-trim data-noescape data-line-numbers class="language-python">
            def main():
                #輸入整數N，代表總共有N間學校
                N = int(input()) 
                schools = {}  #使用字典存學校資料
                conditions = [] #使用list#存要查詢的屬性
                
                for i in range(N):
                    #輸入N個學校名稱以及該學校擁有的屬性，用空格分割字串  
                    school_data = input().split(' ')
                    #得到的list索引0的字串為學校名稱
                    school_name = school_data[0]
                    #索引1~結尾是該學校的屬性
                    #存入school_attrs這個list中
                    school_attrs = school_data[1:]
                    #將學校名稱作為key，屬性列表作為value存入字典
                    schools[school_name] = school_attrs
                
                #輸入整數M (1 <= M <= 4)，代表有幾組想要查詢的屬性
                M = int(input())  
                for i in range(M):
                    #輸入M組查詢，用' + '分割字串
                    #新增到conditions中
                    conditions.append(input().split(' + '))
                
                #輸入整數_type (0 <= _type <= 1)，決定輸出的方式
                _type = int(input())
                if _type == 0:
                    for i in range(M):
                        #處理能符合所有查詢屬性的大學
                        #第二個參數位置傳入的conditions[i]是conditions的子列表
                        result = CheckCompleteRule(schools, conditions[i])
                        if result != []:
                            showResult(result)
                elif _type == 1:
                    for i in range(M):
                        #處理能部分符合且符合最多條件的大學
                        result = CheckContainRule(schools, conditions[i])
                        if result != []:
                            showResult(result)
              </code></pre>
          </section>
    </section>

    <section>
      <h3 >解答</h3>
        <section data-auto-animate
        data-no="8"
        data-positionx="0.8" 
        data-positiony="0.03" 
        data-scale="1" 
        data-motionno="0"><br><br>
        <font size=6>副程式-CheckCompleteRule():檢查每個學校是否完全符合條件</font>
        <pre style="font-size: 24px;"><code data-trim data-noescape data-line-numbers class="language-python">
        def CheckCompleteRule(schools, condition):
            result = []
            #遍歷每個學校，school_name是學校名稱，school_attrs是該學校的屬性列表
            for school_name, school_attrs in schools.items():
                #遍歷每個查詢條件的子條件
                for subCondition in condition:
                    count = 0
                    #將子條件中的屬性用空格分開
                    for cond in subCondition.split(' '):
                        #檢查是否存在於學校的屬性列表中
                        if cond in school_attrs:
                            count += 1 #有的話count+1
        
                    #利用計算subCondition中空格的數量+1來取得子條件中屬性數量
                    #EX:BC NS(有大校園且靠海)，空格數量1，再加1，屬性數量為2
                    #表示學校完全符合該子條件
                    #還要確保該學校不在結果列表中
                    if count == subCondition.count(' ') + 1 and school_name not in result:
                        result.append(school_name)
            return result
        </code></pre>
        </section>

        <section data-auto-animate
        data-no="8"
        data-positionx="0.8" 
        data-positiony="0.03" 
        data-scale="1" 
        data-motionno="0"><br><br>
        <font size=6>副程式-CheckContainRule():檢查每個學校在條件中出現的屬性數量，選擇出現最多的學校</font>
        <pre style="font-size: 24px;"><code data-trim data-noescape data-line-numbers class="language-python">
        def CheckContainRule(schools, condition):
            result = []
            _max = 0 #紀錄最多的符合條件數量
            for school_name, school_attrs in schools.items():
                count = 0
                for subCondition in condition:
                    for cond in subCondition.split(' '):
                        if cond in school_attrs:
                            count += 1
                #如果目前學校符合的屬性數量超過了之前的最大值
                if count > _max:
                    #更新 _max 並將result列表設為當前學校名稱
                    #會覆蓋掉原本result列表的資料
                    _max = count
                    result = [school_name]
                elif count == _max:
                    #將該學校名稱加入結果列表
                    result.append(school_name)  
            return result
        </code></pre>
        </section>

        <section data-auto-animate
        data-no="8"
        data-positionx="0.8" 
        data-positiony="0.03" 
        data-scale="1" 
        data-motionno="0"><br><br>
        <font size=6>副程式-showResult()</font>
        <pre style="font-size: 24px;"><code data-trim data-noescape data-line-numbers class="language-python">
        def showResult(result):
            for i in result:
                print(i, end=' ') #輸出學校名稱，並用空格分隔
            print() #換行
        </code></pre>
        </section>
    </section>

    <section>
        <h3 >解答</h3>
          <section data-auto-animate
          data-no="8"
          data-positionx="0.8" 
          data-positiony="0.03" 
          data-scale="1" 
          data-motionno="0">
          <font size=6>呼叫主程式</font>
          <pre style="font-size: 26px;"><code data-trim data-noescape data-line-numbers class="language-python">
          if __name__ == '__main__':
              main()
          </code></pre>
        </section>
      </section>
    </div>
  </div>
  <div id="pageIndex"></div>
  <!-- reveal.js-->
  <script src="vendor/reveal/reveal.js"></script>
  <!--plugin-->
  <script src="vendor/reveal/plugin/math/math.js"></script>
  <script src="vendor/reveal/plugin/search/search.js"></script>
  <script src="vendor/reveal/plugin/zoom/zoom.js"></script>

  <script src="vendor/reveal/plugin/notes/notes.js"></script>
  <script src="vendor/reveal/plugin/markdown/markdown.js"></script>
  <script src="vendor/reveal/plugin/highlight/highlight.js"></script>
  <script src="main-ppt.js"></script>
</body>

</html>